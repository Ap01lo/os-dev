## 第五章 编写、创建以及加载你的内核

至此，我们已经学了很多计算机如何工作的知识了，通过对底层的汇编语言的讨论，但我们同样看见了使用这种低级语言编程的效率有多低：当写一个简单的控制结构的时候我们都要苦苦思索，必须要关心如何最大化的利用有限的寄存器资源，如何控制栈操作。我们使用汇编语言的另一个缺点是，他跟CPU的架构密切相关，所以很难将我们的x86的操作系统代码移植到其他的CPU架构中，比如ARM，RISC...

幸运的是，其他的程序员同样受够了用汇编代码来编程，所以决定写一些高级代码的编译器，可以将更加直观的代码转变成汇编代码。这些编译器的想法就是，将高级的语言结构比如控制结构，函数调用映射为汇编代码，同时，缺点是这些普通模板代码可能对于有些问题并不是最优解。先不多想，我们先看看C代码是如何编译成为汇编语言的，一起揭开编译器神秘的面纱。

